syntax = "proto3";

package nl.co.gram.camarilla;
option java_package = "nl.co.gram.cabalee";
option java_multiple_files = true;

import "google/protobuf/timestamp.proto";

enum MsgType {
  UNKNOWN_MSGTYPE = 0;
  CABAL_MESSAGE_V1 = 3;
}

message Payload {
  oneof kind {
    MessageContents cleartext_broadcast = 1;
    SelfDestruct self_destruct = 2;
  }
}

message SelfDestruct {
  string text = 1;
}

message MessageContents {
  bytes from = 1;
  string text = 3;
}
